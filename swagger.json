{
  "openapi": "3.0.0",
  "paths": {
    "/": {
      "get": {
        "operationId": "AppController_getHello",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["App"]
      }
    },
    "/users": {
      "post": {
        "operationId": "UserController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new user (Admin only)",
        "tags": ["users"]
      },
      "get": {
        "operationId": "UserController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List all users (Admin only)",
        "tags": ["users"]
      }
    },
    "/users/me": {
      "get": {
        "operationId": "UserController_getMe",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get current user profile",
        "tags": ["users"]
      }
    },
    "/users/{id}": {
      "get": {
        "operationId": "UserController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get user by ID (Admin only)",
        "tags": ["users"]
      },
      "put": {
        "operationId": "UserController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update user",
        "tags": ["users"]
      },
      "delete": {
        "operationId": "UserController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete user (Admin only)",
        "tags": ["users"]
      }
    },
    "/auth/register": {
      "post": {
        "operationId": "AuthController_register",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/auth/login": {
      "post": {
        "operationId": "AuthController_login",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/auth/profile": {
      "get": {
        "operationId": "AuthController_getProfile",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/auth/send-verification": {
      "post": {
        "operationId": "AuthController_sendVerification",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/auth/verify-email": {
      "post": {
        "operationId": "AuthController_verifyEmail",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifyEmailDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/auth/forgot-password": {
      "post": {
        "operationId": "AuthController_requestReset",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestResetDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/auth/reset-password": {
      "post": {
        "operationId": "AuthController_resetPassword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/auth/change-password": {
      "post": {
        "operationId": "AuthController_changePassword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/auth/confirm-password-change": {
      "post": {
        "operationId": "AuthController_confirmPasswordChange",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmPasswordChangeDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/mail/test/verification": {
      "get": {
        "operationId": "MailController_testVerification",
        "parameters": [
          {
            "name": "email",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Mail"]
      }
    },
    "/mail/test/password-reset": {
      "get": {
        "operationId": "MailController_testPasswordReset",
        "parameters": [
          {
            "name": "email",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Mail"]
      }
    },
    "/mail/test/password-change": {
      "get": {
        "operationId": "MailController_testPasswordChange",
        "parameters": [
          {
            "name": "email",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Mail"]
      }
    },
    "/mail/test/confirmation": {
      "get": {
        "operationId": "MailController_testConfirmation",
        "parameters": [
          {
            "name": "email",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Mail"]
      }
    },
    "/mail/test/welcome": {
      "get": {
        "operationId": "MailController_testWelcome",
        "parameters": [
          {
            "name": "email",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Mail"]
      }
    },
    "/experiences": {
      "get": {
        "operationId": "ExperiencesController_findAll",
        "parameters": [
          {
            "name": "page",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get experiences feed",
        "tags": ["Experiences"]
      },
      "post": {
        "operationId": "ExperiencesController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExperienceDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new experience (Organizer only)",
        "tags": ["Experiences"]
      }
    },
    "/experiences/{id}": {
      "get": {
        "operationId": "ExperiencesController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get experience details",
        "tags": ["Experiences"]
      }
    },
    "/experiences/{id}/like": {
      "post": {
        "operationId": "ExperiencesController_toggleLike",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Like/Unlike an experience",
        "tags": ["Experiences"]
      }
    },
    "/trips": {
      "get": {
        "operationId": "TripsController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get available trips",
        "tags": ["Trips"]
      },
      "post": {
        "operationId": "TripsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTripDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a trip (Driver only)",
        "tags": ["Trips"]
      }
    },
    "/trips/{id}/apply": {
      "post": {
        "operationId": "TripsController_apply",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApplyToTripDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Apply to join a trip",
        "tags": ["Trips"]
      }
    },
    "/trips/{id}": {
      "get": {
        "operationId": "TripsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get trip details",
        "tags": ["Trips"]
      },
      "patch": {
        "operationId": "TripsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update a trip (Owner only)",
        "tags": ["Trips"]
      },
      "delete": {
        "operationId": "TripsController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete a trip (Owner only)",
        "tags": ["Trips"]
      }
    },
    "/trips/applies/{id}": {
      "patch": {
        "operationId": "TripsController_updateApply",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApplyToTripDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update an application (Author only)",
        "tags": ["Trips"]
      },
      "delete": {
        "operationId": "TripsController_deleteApply",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete an application (Author only)",
        "tags": ["Trips"]
      }
    },
    "/trips/{id}/applies": {
      "get": {
        "operationId": "TripsController_findAllApplies",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all applications for a trip (Driver only)",
        "tags": ["Trips"]
      }
    },
    "/trips/{id}/applies/{applyId}/decision": {
      "post": {
        "operationId": "TripsController_decision",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "applyId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Accept or refuse an application (Driver only)",
        "tags": ["Trips"]
      }
    },
    "/trips/{id}/status": {
      "patch": {
        "operationId": "TripsController_updateStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update trip status (Driver only)",
        "tags": ["Trips"]
      }
    },
    "/conversations": {
      "get": {
        "operationId": "ConversationsController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get user conversations",
        "tags": ["Conversations"]
      }
    },
    "/conversations/{id}": {
      "get": {
        "operationId": "ConversationsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get conversation details",
        "tags": ["Conversations"]
      }
    },
    "/conversations/{id}/messages": {
      "get": {
        "operationId": "ConversationsController_getMessages",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get messages in a conversation",
        "tags": ["Conversations"]
      },
      "post": {
        "operationId": "ConversationsController_createMessage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMessageDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Send a message",
        "tags": ["Conversations"]
      }
    },
    "/conversations/messages/{messageId}": {
      "patch": {
        "operationId": "ConversationsController_updateMessage",
        "parameters": [
          {
            "name": "messageId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMessageDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update a message",
        "tags": ["Conversations"]
      },
      "delete": {
        "operationId": "ConversationsController_deleteMessage",
        "parameters": [
          {
            "name": "messageId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete a message",
        "tags": ["Conversations"]
      }
    },
    "/conversations/{id}/read": {
      "post": {
        "operationId": "ConversationsController_markAsRead",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Mark conversation messages as read",
        "tags": ["Conversations"]
      }
    },
    "/admin/stats": {
      "get": {
        "operationId": "AdminController_getStats",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get overall app statistics",
        "tags": ["Admin"]
      }
    },
    "/admin/users": {
      "get": {
        "operationId": "AdminController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all users",
        "tags": ["Admin"]
      }
    },
    "/admin/users/{id}/role": {
      "patch": {
        "operationId": "AdminController_updateRole",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserRoleDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update user role",
        "tags": ["Admin"]
      }
    },
    "/admin/users/{id}/status": {
      "patch": {
        "operationId": "AdminController_updateStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserStatusDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update user status (activate/suspend)",
        "tags": ["Admin"]
      }
    },
    "/admin/users/{id}": {
      "delete": {
        "operationId": "AdminController_deleteUser",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete user",
        "tags": ["Admin"]
      }
    },
    "/reports": {
      "post": {
        "operationId": "ReportsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateReportDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a report (Generic)",
        "tags": ["Reports"]
      }
    },
    "/experiences/{id}/report": {
      "post": {
        "operationId": "ReportsController_reportExperience",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Report an experience",
        "tags": ["Reports"]
      }
    },
    "/trips/{id}/report": {
      "post": {
        "operationId": "ReportsController_reportTrip",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Report a trip",
        "tags": ["Reports"]
      }
    },
    "/users/{id}/report": {
      "post": {
        "operationId": "ReportsController_reportUser",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Report a user",
        "tags": ["Reports"]
      }
    },
    "/admin/reports": {
      "get": {
        "operationId": "ReportsController_findAll",
        "parameters": [
          {
            "name": "search",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "schema": {
              "enum": [
                "Expérience",
                "Trajet",
                "Utilisateur",
                "Lieu",
                "Commentaire"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all reports (min 10 reports per entity)",
        "tags": ["Reports"]
      }
    },
    "/admin/reports/{id}/status": {
      "patch": {
        "operationId": "ReportsController_updateStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateReportStatusDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update report status",
        "tags": ["Reports"]
      }
    },
    "/vehicles": {
      "post": {
        "operationId": "VehiclesController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVehicleDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Add a new vehicle",
        "tags": ["vehicles"]
      },
      "get": {
        "operationId": "VehiclesController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get current user's vehicles",
        "tags": ["vehicles"]
      }
    },
    "/vehicles/{id}": {
      "get": {
        "operationId": "VehiclesController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get vehicle details",
        "tags": ["vehicles"]
      },
      "patch": {
        "operationId": "VehiclesController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateVehicleDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update a vehicle",
        "tags": ["vehicles"]
      },
      "delete": {
        "operationId": "VehiclesController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete a vehicle",
        "tags": ["vehicles"]
      }
    },
    "/places": {
      "post": {
        "operationId": "PlacesController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePlaceDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Créer un nouveau lieu",
        "tags": ["Places"]
      },
      "get": {
        "operationId": "PlacesController_findAll",
        "parameters": [
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Recherche par titre ou description",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "Filtrer par type de lieu",
            "schema": {
              "enum": ["Ville", "Musée", "Parc", "Hotel", "Monument"],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Lister et rechercher des lieux",
        "tags": ["Places"]
      }
    },
    "/places/favorites": {
      "get": {
        "operationId": "PlacesController_getFavorites",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer mes lieux favoris",
        "tags": ["Places"]
      }
    },
    "/places/{id}": {
      "get": {
        "operationId": "PlacesController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Détails d'un lieu",
        "tags": ["Places"]
      },
      "patch": {
        "operationId": "PlacesController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePlaceDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Modifier un lieu (Admin uniquement)",
        "tags": ["Places"]
      },
      "delete": {
        "operationId": "PlacesController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer un lieu (Admin uniquement)",
        "tags": ["Places"]
      }
    },
    "/places/{id}/favorite": {
      "post": {
        "operationId": "PlacesController_toggleFavorite",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Ajouter/Retirer des favoris",
        "tags": ["Places"]
      }
    },
    "/places/{id}/report": {
      "post": {
        "operationId": "PlacesController_report",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Signaler un lieu",
        "tags": ["Places"]
      }
    },
    "/users-stats/me": {
      "get": {
        "operationId": "UsersStatsController_getStats",
        "parameters": [
          {
            "name": "period",
            "required": false,
            "in": "query",
            "description": "Période en jours (30, 60, 90)",
            "schema": {
              "example": 30,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Récupérer mes statistiques personnalisées",
        "tags": ["User Statistics"]
      }
    },
    "/experiences/{experienceId}/comments": {
      "post": {
        "operationId": "CommentsController_create",
        "parameters": [
          {
            "name": "experienceId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCommentDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Poster un commentaire sur une expérience",
        "tags": ["Comments"]
      },
      "get": {
        "operationId": "CommentsController_findAll",
        "parameters": [
          {
            "name": "experienceId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Lister les commentaires d'une expérience",
        "tags": ["Comments"]
      }
    },
    "/comments/{id}": {
      "patch": {
        "operationId": "CommentsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCommentDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Modifier un commentaire",
        "tags": ["Comments"]
      },
      "delete": {
        "operationId": "CommentsController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Supprimer un commentaire",
        "tags": ["Comments"]
      }
    },
    "/comments/{id}/like": {
      "post": {
        "operationId": "CommentsController_like",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Liker un commentaire",
        "tags": ["Comments"]
      }
    },
    "/comments/{id}/dislike": {
      "post": {
        "operationId": "CommentsController_dislike",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Disliker un commentaire",
        "tags": ["Comments"]
      }
    },
    "/comments/{id}/report": {
      "post": {
        "operationId": "CommentsController_report",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Signaler un commentaire",
        "tags": ["Comments"]
      }
    },
    "/upload/single": {
      "post": {
        "operationId": "UploadController_uploadSingle",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Upload a single file to Cloudinary",
        "tags": ["Upload"]
      }
    },
    "/upload/multiple": {
      "post": {
        "operationId": "UploadController_uploadMultiple",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Upload multiple files to Cloudinary",
        "tags": ["Upload"]
      }
    }
  },
  "info": {
    "title": "API Documentation",
    "description": "Swagger pour ton backend NestJS",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "securitySchemes": {
      "bearer": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http"
      }
    },
    "schemas": {
      "CreateUserDto": {
        "type": "object",
        "properties": {}
      },
      "UpdateUserDto": {
        "type": "object",
        "properties": {}
      },
      "RegisterDto": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "Participant",
              "Organizer",
              "Driver",
              "Admin",
              "user",
              "promoter"
            ],
            "example": "Participant",
            "description": "User role: Participant, Organizer, or Driver"
          },
          "organizerType": {
            "type": "string",
            "enum": ["Individual", "Company"],
            "example": "Individual",
            "description": "Required for Organizer role: Individual or Company"
          },
          "firstName": {
            "type": "string",
            "example": "John"
          },
          "lastName": {
            "type": "string",
            "example": "Doe"
          },
          "phoneNumber": {
            "type": "string",
            "example": "+229 12345678"
          },
          "dateOfBirth": {
            "type": "string",
            "example": "1990-01-15"
          },
          "driverLicenseNumber": {
            "type": "string",
            "example": "DL-123456789"
          },
          "companyName": {
            "type": "string",
            "example": "Travel Benin Tours"
          },
          "companyType": {
            "type": "string",
            "example": "Hotel",
            "description": "Company type: Restaurant, Hotel, etc."
          },
          "contactEmail": {
            "type": "string",
            "example": "contact@travelbenin.com"
          },
          "companyAddress": {
            "type": "string",
            "example": "123 Cotonou, Benin"
          },
          "email": {
            "type": "string",
            "example": "user@example.com"
          },
          "password": {
            "type": "string",
            "example": "SecurePass123!",
            "minLength": 6
          }
        },
        "required": ["role", "email", "password"]
      },
      "LoginDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "example": "user@example.com"
          },
          "password": {
            "type": "string",
            "example": "password"
          }
        },
        "required": ["email", "password"]
      },
      "VerifyEmailDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "example": "user@example.com"
          },
          "code": {
            "type": "string",
            "example": "123456"
          }
        },
        "required": ["email", "code"]
      },
      "RequestResetDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "example": "user@example.com"
          }
        },
        "required": ["email"]
      },
      "ResetPasswordDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "example": "user@example.com"
          },
          "code": {
            "type": "string",
            "example": "123456"
          },
          "newPassword": {
            "type": "string",
            "example": "123456"
          }
        },
        "required": ["email", "code", "newPassword"]
      },
      "ChangePasswordDto": {
        "type": "object",
        "properties": {
          "oldPassword": {
            "type": "string",
            "example": "oldPassword123",
            "description": "Mot de passe actuel"
          },
          "newPassword": {
            "type": "string",
            "example": "newPassword456",
            "description": "Nouveau mot de passe (min 6 caractères)",
            "minLength": 6
          }
        },
        "required": ["oldPassword", "newPassword"]
      },
      "ConfirmPasswordChangeDto": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "example": "123456"
          },
          "newPassword": {
            "type": "string",
            "example": "123456"
          }
        },
        "required": ["code", "newPassword"]
      },
      "CreateExperienceDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "example": "Beach Party Cotonou",
            "minLength": 2
          },
          "description": {
            "type": "string",
            "example": "An amazing beach party experience",
            "minLength": 2
          },
          "location": {
            "type": "string",
            "example": "Cotonou, Benin",
            "minLength": 2
          },
          "dateStart": {
            "type": "string",
            "example": "2026-02-01T10:00:00Z"
          },
          "dateEnd": {
            "type": "string",
            "example": "2026-02-02T18:00:00Z"
          },
          "type": {
            "type": "string",
            "enum": ["road-trip", "event"],
            "default": "event"
          },
          "image": {
            "type": "string",
            "example": "https://example.com/image.jpg"
          }
        },
        "required": ["title", "description", "location", "dateStart", "dateEnd"]
      },
      "CreateTripDto": {
        "type": "object",
        "properties": {
          "from": {
            "type": "string",
            "example": "Cotonou"
          },
          "to": {
            "type": "string",
            "example": "Parakou"
          },
          "startDate": {
            "type": "string",
            "example": "2026-06-15"
          },
          "startHour": {
            "type": "string",
            "example": "08:00"
          },
          "tripDescription": {
            "type": "string",
            "example": "Trip to Parakou for the festival"
          },
          "price": {
            "type": "number",
            "example": 5000
          },
          "seatsAvailable": {
            "type": "number",
            "example": 4
          },
          "associatedEventTitle": {
            "type": "string",
            "example": "Beach Party"
          },
          "escales": {
            "example": ["Bohicon", "Dassa"],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "associatedVehicle": {
            "type": "string",
            "example": "uuid-of-vehicle"
          }
        },
        "required": [
          "from",
          "to",
          "startDate",
          "startHour",
          "tripDescription",
          "price",
          "seatsAvailable",
          "associatedEventTitle",
          "escales",
          "associatedVehicle"
        ]
      },
      "ApplyToTripDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "I would like to join this trip."
          },
          "requestedSeats": {
            "type": "number",
            "example": 1
          }
        },
        "required": ["message", "requestedSeats"]
      },
      "CreateMessageDto": {
        "type": "object",
        "properties": {
          "text": {
            "type": "string",
            "example": "Hello, are you available?"
          },
          "attachments": {
            "example": ["https://example.com/image1.jpg"],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": ["text"]
      },
      "UpdateMessageDto": {
        "type": "object",
        "properties": {
          "text": {
            "type": "string",
            "example": "Updated message content"
          }
        },
        "required": ["text"]
      },
      "UpdateUserRoleDto": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "Participant",
              "Organizer",
              "Driver",
              "Admin",
              "user",
              "promoter"
            ]
          }
        },
        "required": ["role"]
      },
      "UpdateUserStatusDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": ["active", "suspended"]
          }
        },
        "required": ["status"]
      },
      "CreateReportDto": {
        "type": "object",
        "properties": {
          "entityType": {
            "type": "string",
            "enum": [
              "Expérience",
              "Trajet",
              "Utilisateur",
              "Lieu",
              "Commentaire"
            ],
            "example": "Expérience"
          },
          "entityId": {
            "type": "string",
            "example": "uuid-of-entity"
          },
          "motif": {
            "type": "string",
            "example": "Inappropriate content"
          }
        },
        "required": ["entityType", "entityId", "motif"]
      },
      "UpdateReportStatusDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": ["Nouveau", "Traité"],
            "example": "Traité"
          }
        },
        "required": ["status"]
      },
      "CreateVehicleDto": {
        "type": "object",
        "properties": {
          "brand": {
            "type": "string",
            "example": "Toyota"
          },
          "model": {
            "type": "string",
            "example": "Corolla"
          },
          "plateNumber": {
            "type": "string",
            "example": "ABC-1234"
          },
          "seats": {
            "type": "number",
            "example": 4,
            "default": 4
          },
          "imageUrl": {
            "type": "string",
            "example": "https://example.com/car.jpg"
          }
        },
        "required": ["brand", "model", "seats"]
      },
      "UpdateVehicleDto": {
        "type": "object",
        "properties": {
          "brand": {
            "type": "string",
            "example": "Toyota"
          },
          "model": {
            "type": "string",
            "example": "Corolla"
          },
          "plateNumber": {
            "type": "string",
            "example": "ABC-1234"
          },
          "seats": {
            "type": "number",
            "example": 4,
            "default": 4
          },
          "imageUrl": {
            "type": "string",
            "example": "https://example.com/car.jpg"
          }
        }
      },
      "CreatePlaceDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "example": "Tour Eiffel"
          },
          "type": {
            "type": "string",
            "enum": ["Ville", "Musée", "Parc", "Hotel", "Monument"],
            "example": "Monument"
          },
          "description": {
            "type": "string",
            "example": "Un monument historique iconique de Paris."
          },
          "imageUrl": {
            "type": "string",
            "example": "https://example.com/eiffel.jpg"
          },
          "address": {
            "type": "string",
            "example": "Champ de Mars, 5 Av. Anatole France, 75007 Paris"
          }
        },
        "required": ["title", "type", "description"]
      },
      "UpdatePlaceDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "example": "Tour Eiffel"
          },
          "type": {
            "type": "string",
            "enum": ["Ville", "Musée", "Parc", "Hotel", "Monument"],
            "example": "Monument"
          },
          "description": {
            "type": "string",
            "example": "Un monument historique iconique de Paris."
          },
          "imageUrl": {
            "type": "string",
            "example": "https://example.com/eiffel.jpg"
          },
          "address": {
            "type": "string",
            "example": "Champ de Mars, 5 Av. Anatole France, 75007 Paris"
          }
        }
      },
      "CreateCommentDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "example": "Superbe expérience !"
          },
          "parentId": {
            "type": "string",
            "example": "uuid-parent-if-reply"
          }
        },
        "required": ["content"]
      },
      "UpdateCommentDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "example": "Ceci est mon commentaire modifié."
          }
        },
        "required": ["content"]
      }
    }
  }
}
